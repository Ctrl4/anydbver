k3s:
  latest_version: '1.19.2'
  latest_url: "https://github.com/rancher/k3s/releases/download/v1.19.2%2Bk3s1/k3s"
bionic:
  repo_pkg: "/root/percona-release_latest.bionic_all.deb"
  repo_url: "https://repo.percona.com/apt/percona-release_latest.bionic_all.deb"
  ps56:
    repo_file: "/etc/apt/sources.list.d/percona-original-release.list"
    repo_enable_str: "ps-56"
    systemd_service: "mysql"
    cnf_file: "/etc/mysql/conf.d/zz_mysqld.cnf"
    install_packages:
      - "https://www.percona.com/downloads/Percona-Server-5.6/Percona-Server-{{ percona_server_version | regex_replace('-[0-9]+$', '') }}/binary/debian/{{dist}}/x86_64/percona-server-common-5.6_{{percona_server_version}}.{{ dist }}_amd64.deb"
      - "https://www.percona.com/downloads/Percona-Server-5.6/Percona-Server-{{ percona_server_version | regex_replace('-[0-9]+$', '') }}/binary/debian/{{dist}}/x86_64/libperconaserverclient18.1_{{percona_server_version}}.{{ dist }}_amd64.deb"
      - "https://www.percona.com/downloads/Percona-Server-5.6/Percona-Server-{{ percona_server_version | regex_replace('-[0-9]+$', '') }}/binary/debian/{{dist}}/x86_64/percona-server-client-5.6_{{percona_server_version}}.{{ dist }}_amd64.deb"
      - "https://www.percona.com/downloads/Percona-Server-5.6/Percona-Server-{{ percona_server_version | regex_replace('-[0-9]+$', '') }}/binary/debian/{{dist}}/x86_64/percona-server-server-5.6_{{percona_server_version}}.{{ dist }}_amd64.deb"
  ps57:
    repo_file: "/etc/apt/sources.list.d/percona-original-release.list"
    repo_enable_str: "ps-57"
    systemd_service: "mysql"
    cnf_file: "/etc/mysql/percona-server.conf.d/mysqld.cnf"
    install_packages:
      - "https://www.percona.com/downloads/Percona-Server-5.7/Percona-Server-{{ percona_server_version | regex_replace('-[0-9]+$', '') }}/binary/debian/{{dist}}/x86_64/percona-server-common-5.7_{{percona_server_version}}.{{ dist }}_amd64.deb"
      - "https://www.percona.com/downloads/Percona-Server-5.7/Percona-Server-{{ percona_server_version | regex_replace('-[0-9]+$', '') }}/binary/debian/{{dist}}/x86_64/percona-server-client-5.7_{{percona_server_version}}.{{ dist }}_amd64.deb"
      - "https://www.percona.com/downloads/Percona-Server-5.7/Percona-Server-{{ percona_server_version | regex_replace('-[0-9]+$', '') }}/binary/debian/{{dist}}/x86_64/libperconaserverclient20_{{percona_server_version}}.{{ dist }}_amd64.deb"
      - "https://www.percona.com/downloads/Percona-Server-5.7/Percona-Server-{{ percona_server_version | regex_replace('-[0-9]+$', '') }}/binary/debian/{{dist}}/x86_64/percona-server-server-5.7_{{percona_server_version}}.{{ dist }}_amd64.deb"
  ps80:
    repo_file: "/etc/apt/sources.list.d/percona-ps-80-release.list"
    repo_enable_str: "ps-80"
    systemd_service: "mysql"
    cnf_file: "/etc/mysql/mysql.conf.d/mysqld.cnf"
    install_packages:
      - "https://www.percona.com/downloads/Percona-Server-LATEST/Percona-Server-{{ percona_server_version | regex_replace('-[0-9]+$', '') }}/binary/debian/{{dist}}/x86_64/percona-server-common_{{percona_server_version}}.{{dist}}_amd64.deb"
      - "https://www.percona.com/downloads/Percona-Server-LATEST/Percona-Server-{{ percona_server_version | regex_replace('-[0-9]+$', '') }}/binary/debian/{{dist}}/x86_64/percona-server-client_{{percona_server_version}}.{{dist}}_amd64.deb"
      - "https://www.percona.com/downloads/Percona-Server-LATEST/Percona-Server-{{ percona_server_version | regex_replace('-[0-9]+$', '') }}/binary/debian/{{dist}}/x86_64/libperconaserverclient21_{{percona_server_version}}.{{dist}}_amd64.deb"
      - "https://www.percona.com/downloads/Percona-Server-LATEST/Percona-Server-{{ percona_server_version | regex_replace('-[0-9]+$', '') }}/binary/debian/{{dist}}/x86_64/percona-server-server_{{percona_server_version}}.{{dist}}_amd64.deb"
  pxc56:
    repo_file: "/etc/apt/sources.list.d/percona-original-release.list"
    repo_enable_str: "pxc-56"
    systemd_service: "mysql"
    cnf_file: "/etc/mysql/percona-xtradb-cluster.conf.d/mysqld.cnf"
    install_packages:
      - "https://www.percona.com/downloads/Percona-XtraDB-Cluster-56/Percona-XtraDB-Cluster-{{ percona_xtradb_cluster_version | regex_replace('-[0-9]+$', '') }}/binary/debian/{{dist}}/x86_64/percona-xtradb-cluster-common-5.6_{{percona_xtradb_cluster_version}}.{{ dist }}_amd64.deb"
      - "https://www.percona.com/downloads/Percona-XtraDB-Cluster-56/Percona-XtraDB-Cluster-{{ percona_xtradb_cluster_version | regex_replace('-[0-9]+$', '') }}/binary/debian/{{dist}}/x86_64/percona-xtradb-cluster-client-5.6_{{percona_xtradb_cluster_version}}.{{ dist }}_amd64.deb"
      - "https://www.percona.com/downloads/Percona-XtraDB-Cluster-56/Percona-XtraDB-Cluster-{{ percona_xtradb_cluster_version | regex_replace('-[0-9]+$', '') }}/binary/debian/{{dist}}/x86_64/libperconaserverclient18.1_{{percona_xtradb_cluster_version}}.{{ dist }}_amd64.deb"
      - "https://www.percona.com/downloads/Percona-XtraDB-Cluster-56/Percona-XtraDB-Cluster-{{ percona_xtradb_cluster_version | regex_replace('-[0-9]+$', '') }}/binary/debian/{{dist}}/x86_64/percona-xtradb-cluster-galera-3.x_{{ percona_xtradb_cluster_version | regex_replace('^.*\\.([0-9]+)-([0-9]+)$', '3.\\1-\\2') }}.{{ dist }}_amd64.deb"
      - "https://www.percona.com/downloads/Percona-XtraDB-Cluster-56/Percona-XtraDB-Cluster-{{ percona_xtradb_cluster_version | regex_replace('-[0-9]+$', '') }}/binary/debian/{{dist}}/x86_64/percona-xtradb-cluster-galera-3_{{ percona_xtradb_cluster_version | regex_replace('^.*\\.([0-9]+)-([0-9]+)$', '3.\\1-\\2') }}.{{ dist }}_amd64.deb"
      - "https://www.percona.com/downloads/Percona-XtraDB-Cluster-56/Percona-XtraDB-Cluster-{{ percona_xtradb_cluster_version | regex_replace('-[0-9]+$', '') }}/binary/debian/{{dist}}/x86_64/percona-xtradb-cluster-server-5.6_{{percona_xtradb_cluster_version}}.{{ dist }}_amd64.deb"
  pxc57:
    repo_file: "/etc/apt/sources.list.d/percona-original-release.list"
    repo_enable_str: "pxc-57"
    systemd_service: "mysql"
    cnf_file: "/etc/mysql/percona-xtradb-cluster.conf.d/mysqld.cnf"
    install_packages:
      - "https://www.percona.com/downloads/Percona-XtraDB-Cluster-57/Percona-XtraDB-Cluster-{{ percona_xtradb_cluster_version | regex_replace('-[0-9]+$', '') }}/binary/debian/{{dist}}/x86_64/percona-xtradb-cluster-common-5.7_{{percona_xtradb_cluster_version}}.{{ dist }}_amd64.deb"
      - "https://www.percona.com/downloads/Percona-XtraDB-Cluster-57/Percona-XtraDB-Cluster-{{ percona_xtradb_cluster_version | regex_replace('-[0-9]+$', '') }}/binary/debian/{{dist}}/x86_64/percona-xtradb-cluster-client-5.7_{{percona_xtradb_cluster_version}}.{{ dist }}_amd64.deb"
      - "https://www.percona.com/downloads/Percona-XtraDB-Cluster-57/Percona-XtraDB-Cluster-{{ percona_xtradb_cluster_version | regex_replace('-[0-9]+$', '') }}/binary/debian/{{dist}}/x86_64/libperconaserverclient20_{{percona_xtradb_cluster_version}}.{{ dist }}_amd64.deb"
      - "https://www.percona.com/downloads/Percona-XtraDB-Cluster-57/Percona-XtraDB-Cluster-{{ percona_xtradb_cluster_version | regex_replace('-[0-9]+$', '') }}/binary/debian/{{dist}}/x86_64/percona-xtradb-cluster-server-5.7_{{percona_xtradb_cluster_version}}.{{ dist }}_amd64.deb"
  pxc80:
    repo_file: "/etc/apt/sources.list.d/percona-pxc-80-release.list"
    repo_enable_str: "pxc-80"
    systemd_service: "mysql"
    cnf_file: "/etc/mysql/mysql.conf.d/mysqld.cnf"
    install_packages:
      - "https://www.percona.com/downloads/Percona-XtraDB-Cluster-LATEST/Percona-XtraDB-Cluster-{{ percona_xtradb_cluster_version | regex_replace('-([0-9]+)$', '.\\1') }}/binary/debian/{{dist}}/x86_64/percona-xtradb-cluster-common_{{percona_xtradb_cluster_version}}.{{dist}}_amd64.deb"
      - "https://www.percona.com/downloads/Percona-XtraDB-Cluster-LATEST/Percona-XtraDB-Cluster-{{ percona_xtradb_cluster_version | regex_replace('-([0-9]+)$', '.\\1') }}/binary/debian/{{dist}}/x86_64/percona-xtradb-cluster-client_{{percona_xtradb_cluster_version}}.{{dist}}_amd64.deb"
      - "https://www.percona.com/downloads/Percona-XtraDB-Cluster-LATEST/Percona-XtraDB-Cluster-{{ percona_xtradb_cluster_version | regex_replace('-([0-9]+)$', '.\\1') }}/binary/debian/{{dist}}/x86_64/libperconaserverclient21_{{percona_xtradb_cluster_version}}.{{dist}}_amd64.deb"
      - "https://www.percona.com/downloads/Percona-XtraDB-Cluster-LATEST/Percona-XtraDB-Cluster-{{ percona_xtradb_cluster_version | regex_replace('-([0-9]+)$', '.\\1') }}/binary/debian/{{dist}}/x86_64/percona-xtradb-cluster-server_{{percona_xtradb_cluster_version}}.{{dist}}_amd64.deb"
  proxysql:
    install_packages:
      - "https://github.com/sysown/proxysql/releases/download/v{{proxysql_version}}/proxysql_{{proxysql_version}}-ubuntu18_amd64.deb"
  orchestrator:
    download_packages: {}
    install_packages:
      - "https://github.com/openark/orchestrator/releases/download/v{{ orchestrator_version | regex_replace('-[0-9]+$', '') }}/orchestrator-cli_{{orchestrator_version}}_amd64.deb"
      - "https://github.com/openark/orchestrator/releases/download/v{{ orchestrator_version | regex_replace('-[0-9]+$', '') }}/orchestrator_{{orchestrator_version}}_amd64.deb"

focal:
  repo_pkg: "/root/percona-release_latest.focal_all.deb"
  repo_url: "https://repo.percona.com/apt/percona-release_latest.focal_all.deb"

  ps57:
    repo_file: "/etc/apt/sources.list.d/percona-ps-57-release.list"
    repo_enable_str: "ps-57"
    systemd_service: "mysql"
    cnf_file: "/etc/mysql/percona-server.conf.d/mysqld.cnf"
    install_packages:
      - "https://www.percona.com/downloads/Percona-Server-5.7/Percona-Server-{{ percona_server_version | regex_replace('-[0-9]+$', '') }}/binary/debian/focal/x86_64/percona-server-common-5.7_{{percona_server_version}}.focal_amd64.deb"
      - "https://www.percona.com/downloads/Percona-Server-5.7/Percona-Server-{{ percona_server_version | regex_replace('-[0-9]+$', '') }}/binary/debian/focal/x86_64/percona-server-client-5.7_{{percona_server_version}}.focal_amd64.deb"
      - "https://www.percona.com/downloads/Percona-Server-5.7/Percona-Server-{{ percona_server_version | regex_replace('-[0-9]+$', '') }}/binary/debian/focal/x86_64/libperconaserverclient20_{{percona_server_version}}.focal_amd64.deb"
      - "https://www.percona.com/downloads/Percona-Server-5.7/Percona-Server-{{ percona_server_version | regex_replace('-[0-9]+$', '') }}/binary/debian/focal/x86_64/percona-server-server-5.7_{{percona_server_version}}.focal_amd64.deb"

  ps80:
    repo_file: "/etc/apt/sources.list.d/percona-ps-80-release.list"
    repo_enable_str: "ps-80"
    systemd_service: "mysql"
    cnf_file: "/etc/mysql/mysql.conf.d/mysqld.cnf"
    install_packages:
      - "https://downloads.percona.com/downloads/Percona-Server-LATEST/Percona-Server-{{ percona_server_version | regex_replace('-[0-9]+$', '') }}/binary/debian/focal/x86_64/percona-server-common_{{percona_server_version}}.focal_amd64.deb"
      - "https://downloads.percona.com/downloads/Percona-Server-LATEST/Percona-Server-{{ percona_server_version | regex_replace('-[0-9]+$', '') }}/binary/debian/focal/x86_64/percona-server-client_{{percona_server_version}}.focal_amd64.deb"
      - "https://downloads.percona.com/downloads/Percona-Server-LATEST/Percona-Server-{{ percona_server_version | regex_replace('-[0-9]+$', '') }}/binary/debian/focal/x86_64/libperconaserverclient21_{{percona_server_version}}.focal_amd64.deb"
      - "https://downloads.percona.com/downloads/Percona-Server-LATEST/Percona-Server-{{ percona_server_version | regex_replace('-[0-9]+$', '') }}/binary/debian/focal/x86_64/percona-server-server_{{percona_server_version}}.focal_amd64.deb"

  pxc57:
    repo_file: "/etc/apt/sources.list.d/percona-original-release.list"
    repo_enable_str: "pxc-57"
    systemd_service: "mysql"
    cnf_file: "/etc/mysql/percona-xtradb-cluster.conf.d/wsrep.cnf"
    install_packages:
      - "https://www.percona.com/downloads/Percona-XtraDB-Cluster-57/Percona-XtraDB-Cluster-{{ percona_xtradb_cluster_version | regex_replace('-[0-9]+$', '') }}/binary/debian/{{dist}}/x86_64/percona-xtradb-cluster-common-5.7_{{percona_xtradb_cluster_version}}.{{ dist }}_amd64.deb"
      - "https://www.percona.com/downloads/Percona-XtraDB-Cluster-57/Percona-XtraDB-Cluster-{{ percona_xtradb_cluster_version | regex_replace('-[0-9]+$', '') }}/binary/debian/{{dist}}/x86_64/percona-xtradb-cluster-client-5.7_{{percona_xtradb_cluster_version}}.{{ dist }}_amd64.deb"
      - "https://www.percona.com/downloads/Percona-XtraDB-Cluster-57/Percona-XtraDB-Cluster-{{ percona_xtradb_cluster_version | regex_replace('-[0-9]+$', '') }}/binary/debian/{{dist}}/x86_64/libperconaserverclient20_{{percona_xtradb_cluster_version}}.{{ dist }}_amd64.deb"
      - "https://www.percona.com/downloads/Percona-XtraDB-Cluster-57/Percona-XtraDB-Cluster-{{ percona_xtradb_cluster_version | regex_replace('-[0-9]+$', '') }}/binary/debian/{{dist}}/x86_64/percona-xtradb-cluster-server-5.7_{{percona_xtradb_cluster_version}}.{{ dist }}_amd64.deb"
  pxc80:
    repo_file: "/etc/apt/sources.list.d/percona-pxc-80-release.list"
    repo_enable_str: "pxc-80"
    systemd_service: "mysql"
    cnf_file: "/etc/mysql/mysql.conf.d/mysqld.cnf"
    install_packages:
      - "https://www.percona.com/downloads/Percona-XtraDB-Cluster-LATEST/Percona-XtraDB-Cluster-{{ percona_xtradb_cluster_version | regex_replace('-[0-9]+-[0-9]+$', '') }}/binary/debian/{{dist}}/x86_64/percona-xtradb-cluster-common_{{percona_xtradb_cluster_version}}.{{ dist }}_amd64.deb"
      - "https://www.percona.com/downloads/Percona-XtraDB-Cluster-LATEST/Percona-XtraDB-Cluster-{{ percona_xtradb_cluster_version | regex_replace('-[0-9]+-[0-9]+$', '') }}/binary/debian/{{dist}}/x86_64/percona-xtradb-cluster-client_{{percona_xtradb_cluster_version}}.{{ dist }}_amd64.deb"
      - "https://www.percona.com/downloads/Percona-XtraDB-Cluster-LATEST/Percona-XtraDB-Cluster-{{ percona_xtradb_cluster_version | regex_replace('-[0-9]+-[0-9]+$', '') }}/binary/debian/{{dist}}/x86_64/libperconaserverclient21_{{percona_xtradb_cluster_version}}.{{ dist }}_amd64.deb"
      - "https://www.percona.com/downloads/Percona-XtraDB-Cluster-LATEST/Percona-XtraDB-Cluster-{{ percona_xtradb_cluster_version | regex_replace('-[0-9]+-[0-9]+$', '') }}/binary/debian/{{dist}}/x86_64/percona-xtradb-cluster-server_{{percona_xtradb_cluster_version}}.{{ dist }}_amd64.deb"

  percona_toolkit:
    install_packages:
      - "percona-toolkit={{ percona_toolkit_version }}.{{dist}}"
  sysbench:
    install_packages:
      - "sysbench={{sysbench_version}}.{{dist}}"

  postgresql:
    systemd_service: "postgresql@{{'9.5' if postgresql_version.startswith('9.5') else '9.6' if postgresql_version.startswith('9.6') else postgresql_version|regex_replace('^([0-9]+)\\..*$','\\1')}}-main"
    cnf_file: "/var/lib/pgsql/{{'9.5' if postgresql_version.startswith('9.5') else '9.6' if postgresql_version.startswith('9.6') else postgresql_version|regex_replace('^([0-9]+)\\..*$','\\1')}}/data/postgresql.conf"
    repo_url: https://yum.postgresql.org/reporpms/EL-7-x86_64/pgdg-redhat-repo-latest.noarch.rpm
    install_packages:
      - "libpq5={{ postgresql_version }}"
      - "postgresql-client-common={{postgresql_version2}}"
      - "postgresql-client-{{'95' if postgresql_version.startswith('9.5') else '96' if postgresql_version.startswith('9.6') else postgresql_version|regex_replace('^([0-9]+)\\..*$','\\1')}}={{ postgresql_version }}"
      - "postgresql-common={{postgresql_version2}}"
      - "postgresql-{{'95' if postgresql_version.startswith('9.5') else '96' if postgresql_version.startswith('9.6') else postgresql_version|regex_replace('^([0-9]+)\\..*$','\\1')}}={{ postgresql_version }}"
    development_packages:
      - "postgresql-server-dev-{{'95' if postgresql_version.startswith('9.5') else '96' if postgresql_version.startswith('9.6') else postgresql_version|regex_replace('^([0-9]+)\\..*$','\\1')}}={{postgresql_version}}"
      - "libpq-dev={{ postgresql_version }}"

  proxysql:
    systemd_service: "proxysql"
    install_packages:
      - "https://repo.proxysql.com/ProxySQL/proxysql-{{'2.1.x' if proxysql_version.startswith('2.1.') else '2.0.x' if proxysql_version.startswith('2.0.') else ''}}/focal/proxysql_{{proxysql_version}}-ubuntu20_amd64.deb"

  mariadb_server:
    systemd_service: "mariadb"
    cnf_file: '/etc/mysql/mariadb.conf.d/zz_mysqld.cnf'
    install_packages:
      - "https://downloads.mariadb.com/MariaDB/mariadb-{{mariadb_version}}/repo/ubuntu/pool/main/m/mariadb-10.5/mysql-common_{{mariadb_version}}+maria~focal_all.deb"
      - "https://downloads.mariadb.com/MariaDB/mariadb-{{mariadb_version}}/repo/ubuntu/pool/main/m/mariadb-10.5/mariadb-common_{{mariadb_version}}+maria~focal_all.deb"
      - "https://downloads.mariadb.com/MariaDB/mariadb-{{mariadb_version}}/repo/ubuntu/pool/main/m/mariadb-10.5/libmariadb3_{{mariadb_version}}+maria~focal_amd64.deb"
      - "https://downloads.mariadb.com/MariaDB/mariadb-{{mariadb_version}}/repo/ubuntu/pool/main/m/mariadb-10.5/mariadb-client-core-10.5_{{mariadb_version}}+maria~focal_amd64.deb"
      - "https://downloads.mariadb.com/MariaDB/mariadb-{{mariadb_version}}/repo/ubuntu/pool/main/m/mariadb-10.5/mariadb-server-core-10.5_{{mariadb_version}}+maria~focal_amd64.deb"
      - "https://downloads.mariadb.com/MariaDB/mariadb-{{mariadb_version}}/repo/ubuntu/pool/main/m/mariadb-10.5/mariadb-client-10.5_{{mariadb_version}}+maria~focal_amd64.deb"
      - "https://downloads.mariadb.com/MariaDB/mariadb-{{mariadb_version}}/repo/ubuntu/pool/main/m/mariadb-10.5/mariadb-server-10.5_{{mariadb_version}}+maria~focal_amd64.deb"
      - "https://downloads.mariadb.com/MariaDB/mariadb-{{mariadb_version}}/repo/ubuntu/pool/main/m/mariadb-10.5/mariadb-server_{{mariadb_version}}+maria~focal_all.deb"

el7:
  repo_url: "https://repo.percona.com/yum/percona-release-latest.noarch.rpm"
  ps56:
    systemd_service: "mysqld"
    cnf_file: "/etc/my.cnf"
    install_packages:
      - "{{ percona_mysql_name }}-shared{{ percona_mysql_full_ver }}"
      - "{{ percona_mysql_name }}-client{{ percona_mysql_full_ver }}"
      - "{{ percona_mysql_name }}-server{{ percona_mysql_full_ver }}"
    install_debug_packages:
      - gdb
      - "{{ percona_mysql_name }}-debuginfo{{ percona_mysql_full_ver }}"
  ps57:
    systemd_service: "mysqld"
    cnf_file: "/etc/percona-server.conf.d/mysqld.cnf"
    install_packages:
      - Percona-Server-shared-compat-57-{{ percona_server_version }}.el7.x86_64
      - Percona-Server-shared-57-{{        percona_server_version }}.el7.x86_64
      - Percona-Server-client-57-{{        percona_server_version }}.el7.x86_64
      - Percona-Server-server-57-{{        percona_server_version }}.el7.x86_64
    install_debug_packages:
      - gdb
      - Percona-Server-57-debuginfo-{{ percona_server_version }}.el7.x86_64
    rocksdb_packages:
      - Percona-Server-rocksdb-57-{{ percona_server_version }}.el7.x86_64
  ps80:
    repo_file: "/etc/yum.repos.d/percona-ps-80-release.repo"
    repo_enable_str: "ps-80"
    systemd_service: "mysqld"
    cnf_file: "/etc/my.cnf"
    install_packages:
      - "{{ percona_mysql_name }}-shared-compat{{ percona_mysql_full_ver }}"            
      - "{{ percona_mysql_name }}-shared{{ percona_mysql_full_ver }}"
      - "{{ percona_mysql_name }}-client{{ percona_mysql_full_ver }}"
      - "{{ percona_mysql_name }}-server{{ percona_mysql_full_ver }}"
    install_debug_packages:
      - gdb
      - "{{ percona_mysql_name }}-debuginfo{{ percona_mysql_full_ver }}"
    mysql_shell_packages:
      - "https://www.percona.com/downloads/percona-distribution-mysql-ps/percona-distribution-mysql-ps-{{percona_server_version|regex_replace('^([0-9]+\\.[0-9]+\\.[0-9]+)-.*$', '\\1')}}/binary/redhat/7/x86_64/percona-mysql-shell-{{percona_server_version|regex_replace('^([0-9]+\\.[0-9]+\\.[0-9]+)-.*$', '\\1')}}-1.el7.x86_64.rpm"
  pxc56:
    systemd_service: "mysql"
    cnf_file: "/etc/my.cnf"
    install_packages:
      - which
      - "{{ percona_mysql_name }}-shared{{ percona_mysql_full_ver }}"
      - "{{ percona_mysql_name }}-client{{ percona_mysql_full_ver }}"
      - "percona-xtrabackup{{ '-'+percona_xtrabackup_version+'.el7.x86_64' if percona_xtrabackup_version.startswith('2.3') else ''}}"
      - "Percona-XtraDB-Cluster-galera-{{ percona_xtradb_cluster_version | regex_replace('^.*\\.([0-9]+)\\.([0-9]+)$', '3-3.\\1-\\2') }}.{{ 'rhel7' if percona_xtradb_cluster_version | regex_search('(5\\.6\\.2)|(5\\.6\\.3[0-4])') else 'el7' }}.x86_64"
      - "{{ percona_mysql_name }}-server{{ percona_mysql_full_ver }}"
    garbd_packages:
      - "Percona-XtraDB-Cluster-garbd-{{ percona_xtradb_cluster_version | regex_replace('^.*\\.([0-9]+)\\.([0-9]+)$', '3-3.\\1-\\2') }}.el7.x86_64"
  pxc57:
    systemd_service: "mysqld"
    cnf_file: "/etc/percona-xtradb-cluster.conf.d/zz_mysqld.cnf"
    install_packages:
      - "{{ percona_mysql_name }}-shared-compat{{ percona_mysql_full_ver }}"            
      - "{{ percona_mysql_name }}-shared{{ percona_mysql_full_ver }}"
      - "{{ percona_mysql_name }}-client{{ percona_mysql_full_ver }}"
      - "percona-xtrabackup-24{{ '-'+percona_xtrabackup_version if percona_xtrabackup_version !='' else '' }}"
      - "{{ percona_mysql_name }}-server{{ percona_mysql_full_ver }}"
    garbd_packages:
      - "{{ percona_mysql_name }}-garbd{{ percona_mysql_full_ver }}"
  pxc80:
    repo_file: "/etc/yum.repos.d/percona-pxc-80-release.repo"
    repo_enable_str: "pxc-80"
    systemd_service: "mysqld"
    cnf_file: "/etc/my.cnf"
    install_packages:
      - openssl
      - "{{ percona_mysql_name }}-shared-compat{{ percona_mysql_full_ver }}"            
      - "{{ percona_mysql_name }}-shared{{ percona_mysql_full_ver }}"
      - "{{ percona_mysql_name }}-client{{ percona_mysql_full_ver }}"
      - "{{ percona_mysql_name }}-server{{ percona_mysql_full_ver }}"
    install_debug_packages:
      - gdb
      - "{{ percona_mysql_name }}-debuginfo{{ percona_mysql_full_ver }}"
    garbd_packages:
      - "{{ percona_mysql_name }}-garbd{{ percona_mysql_full_ver }}"
  ppg11:
    systemd_service: 'postgresql-11'
    cnf_file: '/var/lib/pgsql/11/data/postgresql.conf'
  ppg12:
    systemd_service: 'postgresql-12'
    cnf_file: '/var/lib/pgsql/12/data/postgresql.conf'

  mariadb_server:
    systemd_service: "mariadb"
    cnf_file: '/etc/my.cnf.d/zz_mysqld.cnf'
    # https://downloads.mariadb.com/MariaDB/mariadb-10.2.12/yum/centos7-amd64/rpms/MariaDB-10.2.12-centos7-x86_64-common.rpm
    # https://downloads.mariadb.com/MariaDB/mariadb-10.2.13/yum/centos7-amd64/rpms/MariaDB-10.2.13-centos73-x86_64-common.rpm
    # https://downloads.mariadb.com/MariaDB/mariadb-10.2.23/yum/centos7-amd64/rpms/MariaDB-10.2.22-centos73-x86_64-common.rpm
    # https://downloads.mariadb.com/MariaDB/mariadb-10.2.23/yum/centos7-amd64/rpms/MariaDB-common-10.2.23-1.el7.centos.x86_64.rpm
    install_packages:
      - "{{ mariadb_url }}/MariaDB/mariadb-{{mariadb_version|regex_replace('-.*$','')}}/yum/centos7-amd64/rpms/MariaDB-common-{{mariadb_version}}.el7.centos.x86_64.rpm"
      - "{{ mariadb_url }}/MariaDB/mariadb-{{mariadb_version|regex_replace('-.*$','')}}/yum/centos7-amd64/rpms/MariaDB-client-{{mariadb_version}}.el7.centos.x86_64.rpm"
      - "{{ mariadb_url }}/MariaDB/mariadb-{{mariadb_version|regex_replace('-.*$','')}}/yum/centos7-amd64/rpms/MariaDB-server-{{mariadb_version}}.el7.centos.x86_64.rpm"
    galera_packages:
      - "{{ mariadb_url }}/MariaDB/mariadb-{{mariadb_version|regex_replace('-.*$','')}}/yum/centos7-amd64/rpms/galera{{'-4' if mariadb_version.startswith('10.4') or mariadb_version.startswith('10.5') else '' }}-{{galera}}.el7.centos.x86_64.rpm"
    10.1.29:
      install_packages:
        - "{{ mariadb_url }}/MariaDB/mariadb-10.1.29/yum/centos7-amd64/rpms/MariaDB-10.1.29-centos7-x86_64-common.rpm"
        - "{{ mariadb_url }}/MariaDB/mariadb-10.1.29/yum/centos7-amd64/rpms/MariaDB-10.1.29-centos7-x86_64-client.rpm"
        - "{{ mariadb_url }}/MariaDB/mariadb-10.1.29/yum/centos7-amd64/rpms/MariaDB-10.1.29-centos7-x86_64-server.rpm"
  mysql:
    repo_url: https://dev.mysql.com/get/mysql80-community-release-el7-3.noarch.rpm
    systemd_service: "mysqld"
    cnf_file: '/etc/my.cnf'
    install_packages:
      - "mysql-community-common-{{mysql_version}}.el7.x86_64"
      - "mysql-community-libs-{{mysql_version}}.el7.x86_64"
      - "mysql-community-client-{{mysql_version}}.el7.x86_64"
      - "mysql-community-server-{{mysql_version}}.el7.x86_64"
    mysql_shell_packages:
      - "https://dev.mysql.com/get/Downloads/MySQL-Shell/mysql-shell-{{mysql_version}}.el7.x86_64.rpm"
  mysql_router:
    repo_url: https://dev.mysql.com/get/mysql80-community-release-el7-3.noarch.rpm
    systemd_service: "mysqlrouter"
    cnf_file: '/etc/my.cnf'
    install_packages:
      - "mysql-community-common-{{mysql_router_version}}.el7.x86_64"
      - "mysql-community-libs-{{mysql_router_version}}.el7.x86_64"
      - "mysql-community-client-{{mysql_router_version}}.el7.x86_64"
      - "mysql-router-community-{{mysql_router_version}}.el7.x86_64"
  proxysql:
    systemd_service: "proxysql"
    install_packages:
      - "https://github.com/sysown/proxysql/releases/download/v{{ proxysql_version | regex_replace('-[0-9]+$', '') }}/proxysql-{{proxysql_version}}-centos7.x86_64.rpm"
  percona_proxysql:
    systemd_service: "proxysql"
    install_packages:
      - which
      - "proxysql{{'2' if percona_proxysql_version.startswith('2.') else ''}}-{{percona_proxysql_version}}.el7.x86_64"
  orchestrator:
    systemd_service: "orchestrator"
    install_packages:
      - "https://github.com/openark/orchestrator/releases/download/v{{ orchestrator_version | regex_replace('-[0-9]+$', '') }}/orchestrator-cli-{{orchestrator_version}}.x86_64.rpm"
      - "https://github.com/openark/orchestrator/releases/download/v{{ orchestrator_version | regex_replace('-[0-9]+$', '') }}/orchestrator-{{orchestrator_version}}.x86_64.rpm"
      - "https://github.com/openark/orchestrator/releases/download/v{{ orchestrator_version | regex_replace('-[0-9]+$', '') }}/orchestrator-client-{{orchestrator_version}}.x86_64.rpm"
      - which
  pmm_client:
    install_packages:
      - "pmm{{'2' if pmm_client_version.startswith('2') else ''}}-client-{{pmm_client_version}}.el7.x86_64"
  percona_toolkit:
    install_packages:
      - "percona-toolkit-{{ percona_toolkit_version }}.{{dist}}.x86_64"
      - which

  sysbench:
    install_packages:
      - "Percona-Server-client-56"
      - "sysbench-{{sysbench_version}}.el7.x86_64"

  mysql_connector_java:
    install_packages:
      - java-1.8.0-openjdk.x86_64
      - java-1.8.0-openjdk-devel
      - https://dev.mysql.com/get/Downloads/Connector-J/mysql-connector-java-{{mysql_connector_java_version}}.el7.noarch.rpm

  pgpool:
    systemd_service: pgpool
    install_packages:
      - "https://www.pgpool.net/yum/rpms/{{ pgpool_version | regex_replace('^([0-9]+\\.[0-9]+)\\..*$','\\1') }}/redhat/rhel-7-x86_64/pgpool-II-pg{{ percona_postgresql_version | regex_replace('\\..*$','') }}-{{pgpool_version}}pgdg.rhel7.x86_64.rpm"

  ldap_server:
    systemd_service: slapd
    install_packages:
      - openssl
      - openldap
      - openldap-clients
      - openldap-servers
      - openldap-servers-sql
      - openldap-devel
      - compat-openldap

  kerberos_server:
    systemd_service: krb5kdc
    install_packages:
      - krb5-server
      - krb5-workstation
  postgresql:
    systemd_service: "postgresql-{{'9.5' if postgresql_version.startswith('9.5') else '9.6' if postgresql_version.startswith('9.6') else postgresql_version|regex_replace('^([0-9]+)\\..*$','\\1')}}"
    cnf_file: "/var/lib/pgsql/{{'9.5' if postgresql_version.startswith('9.5') else '9.6' if postgresql_version.startswith('9.6') else postgresql_version|regex_replace('^([0-9]+)\\..*$','\\1')}}/data/postgresql.conf"
    repo_url: https://yum.postgresql.org/reporpms/EL-7-x86_64/pgdg-redhat-repo-latest.noarch.rpm
    install_packages:
      - "postgresql{{'95' if postgresql_version.startswith('9.5') else '96' if postgresql_version.startswith('9.6') else postgresql_version|regex_replace('^([0-9]+)\\..*$','\\1')}}-libs-{{postgresql_version}}"
      - "postgresql{{'95' if postgresql_version.startswith('9.5') else '96' if postgresql_version.startswith('9.6') else postgresql_version|regex_replace('^([0-9]+)\\..*$','\\1')}}-{{postgresql_version}}"
      - "postgresql{{'95' if postgresql_version.startswith('9.5') else '96' if postgresql_version.startswith('9.6') else postgresql_version|regex_replace('^([0-9]+)\\..*$','\\1')}}-server-{{postgresql_version}}"
      - "postgresql{{'95' if postgresql_version.startswith('9.5') else '96' if postgresql_version.startswith('9.6') else postgresql_version|regex_replace('^([0-9]+)\\..*$','\\1')}}-contrib-{{postgresql_version}}"
    development_packages:
      - "postgresql{{'95' if postgresql_version.startswith('9.5') else '96' if postgresql_version.startswith('9.6') else postgresql_version|regex_replace('^([0-9]+)\\..*$','\\1')}}-devel-{{postgresql_version}}"

el8:
  proxysql:
    systemd_service: "proxysql"
    install_packages:
      - "proxysql-{{proxysql_version}}"
  mysql_connector_java:
    install_packages:
      - java-1.8.0-openjdk.x86_64
      - java-1.8.0-openjdk-devel
      - https://dev.mysql.com/get/Downloads/Connector-J/mysql-connector-java-{{mysql_connector_java_version}}.el8.noarch.rpm
  percona_proxysql:
    systemd_service: "proxysql"
    install_packages:
      - which
      - "proxysql{{'2' if percona_proxysql_version.startswith('2.') else ''}}-{{percona_proxysql_version}}.el8.x86_64"
  ps57:
    systemd_service: "mysqld"
    cnf_file: "/etc/percona-server.conf.d/mysqld.cnf"
    install_packages:
      - Percona-Server-shared-compat-57-{{ percona_server_version }}.el8.x86_64
      - Percona-Server-shared-57-{{        percona_server_version }}.el8.x86_64
      - Percona-Server-client-57-{{        percona_server_version }}.el8.x86_64
      - Percona-Server-server-57-{{        percona_server_version }}.el8.x86_64
  ps80:
    repo_file: "/etc/yum.repos.d/percona-ps-80-release.repo"
    repo_enable_str: "ps-80"
    systemd_service: "mysqld"
    cnf_file: "/etc/my.cnf"
    install_packages:
      - "percona-server-shared-compat-{{ percona_server_version }}.el8.x86_64"
      - "percona-server-shared-{{ percona_server_version }}.el8.x86_64"
      - "percona-server-client-{{ percona_server_version }}.el8.x86_64"
      - "percona-server-server-{{ percona_server_version }}.el8.x86_64"
    install_debug_packages:
      - gdb
      - "{{ percona_mysql_name }}-debuginfo{{ percona_mysql_full_ver }}"
    mysql_shell_packages:
      - "https://www.percona.com/downloads/percona-distribution-mysql-ps/percona-distribution-mysql-ps-{{percona_server_version|regex_replace('^([0-9]+\\.[0-9]+\\.[0-9]+)-.*$', '\\1')}}/binary/redhat/7/x86_64/percona-mysql-shell-{{percona_server_version|regex_replace('^([0-9]+\\.[0-9]+\\.[0-9]+)-.*$', '\\1')}}-1.el8.x86_64.rpm"
  pxc57:
    systemd_service: "mysqld"
    cnf_file: "/etc/percona-xtradb-cluster.conf.d/zz_mysqld.cnf"
    install_packages:
      - "{{ percona_mysql_name }}-shared-compat{{ percona_xtradb_cluster_major_ver }}-{{ percona_xtradb_cluster_version }}.el8.x86_64"
      - "{{ percona_mysql_name }}-shared{{ percona_xtradb_cluster_major_ver }}-{{ percona_xtradb_cluster_version }}.el8.x86_64"
      - "{{ percona_mysql_name }}-client{{ percona_xtradb_cluster_major_ver }}-{{ percona_xtradb_cluster_version }}.el8.x86_64"
      - "percona-xtrabackup-24{{ '-'+percona_xtrabackup_version if percona_xtrabackup_version !='' else '' }}"
      - "{{ percona_mysql_name }}-server{{ percona_xtradb_cluster_major_ver }}-{{ percona_xtradb_cluster_version }}.el8.x86_64"
    garbd_packages:
      - "{{ percona_mysql_name }}-garbd{{ percona_xtradb_cluster_major_ver }}-{{ percona_xtradb_cluster_version }}.el8.x86_64"
  pxc80:
    repo_file: "/etc/yum.repos.d/percona-pxc-80-release.repo"
    repo_enable_str: "pxc-80"
    systemd_service: "mysqld"
    cnf_file: "/etc/my.cnf"
    install_packages:
      - openssl
      - "{{ percona_mysql_name }}-shared-compat{{ percona_xtradb_cluster_major_ver }}-{{ percona_xtradb_cluster_version }}.el8.x86_64"
      - "{{ percona_mysql_name }}-shared{{ percona_xtradb_cluster_major_ver }}-{{ percona_xtradb_cluster_version }}.el8.x86_64"
      - "{{ percona_mysql_name }}-client{{ percona_xtradb_cluster_major_ver }}-{{ percona_xtradb_cluster_version }}.el8.x86_64"
      - "{{ percona_mysql_name }}-server{{ percona_xtradb_cluster_major_ver }}-{{ percona_xtradb_cluster_version }}.el8.x86_64"
    install_debug_packages:
      - gdb
      - "{{ percona_mysql_name }}-debuginfo{{ percona_xtradb_cluster_major_ver }}-{{ percona_xtradb_cluster_version }}.el8.x86_64"
    garbd_packages:
      - "{{ percona_mysql_name }}-garbd{{ percona_xtradb_cluster_major_ver }}-{{ percona_xtradb_cluster_version }}.el8.x86_64"

  ldap_server:
    systemd_service: slapd
    install_packages:
      - openssl
      - openldap
      - symas-openldap-clients
      - symas-openldap-servers

  mariadb_server:
    systemd_service: "mariadb"
    cnf_file: '/etc/my.cnf.d/zz_mysqld.cnf'
    install_packages:
      - "MariaDB-common-{{mariadb_version}}.el8.x86_64"
      - "MariaDB-client-{{mariadb_version}}.el8.x86_64"
      - "MariaDB-server-{{mariadb_version}}.el8.x86_64"
  mysql:
    repo_url: https://dev.mysql.com/get/mysql80-community-release-el8-1.noarch.rpm
    systemd_service: "mysqld"
    cnf_file: '/etc/my.cnf'
    install_packages:
      - https://dev.mysql.com/get/Downloads/MySQL-8.0/mysql-community-common-{{mysql_version}}.el8.x86_64.rpm
      - https://dev.mysql.com/get/Downloads/MySQL-8.0/mysql-community-libs-{{mysql_version}}.el8.x86_64.rpm
      - https://dev.mysql.com/get/Downloads/MySQL-8.0/mysql-community-client-{{mysql_version}}.el8.x86_64.rpm
      - https://dev.mysql.com/get/Downloads/MySQL-8.0/mysql-community-server-{{mysql_version}}.el8.x86_64.rpm

  sysbench:
    install_packages:
      - "sysbench-{{sysbench_version}}.el8.x86_64"
  pmm_client:
    install_packages:
      - "pmm{{'2' if pmm_client_version.startswith('2') else ''}}-client-{{pmm_client_version}}.el8.x86_64"
  percona_toolkit:
    install_packages:
      - "percona-toolkit-{{ percona_toolkit_version }}.{{dist}}.x86_64"
      - which

  orchestrator:
    install_packages:
      - "https://github.com/openark/orchestrator/releases/download/v{{ orchestrator_version | regex_replace('-[0-9]+$', '') }}/orchestrator-cli-{{orchestrator_version}}.x86_64.rpm"
      - "https://github.com/openark/orchestrator/releases/download/v{{ orchestrator_version | regex_replace('-[0-9]+$', '') }}/orchestrator-{{orchestrator_version}}.x86_64.rpm"

  postgresql:
    systemd_service: "postgresql-{{postgresql_version|regex_replace('^([0-9]+)\\..*$','\\1')}}"
    cnf_file: "/var/lib/pgsql/{{postgresql_version|regex_replace('^([0-9]+)\\..*$','\\1')}}/data/postgresql.conf"
    repo_url: https://yum.postgresql.org/reporpms/EL-8-x86_64/pgdg-redhat-repo-latest.noarch.rpm
    install_packages:
      - glibc-langpack-en
      - "postgresql{{postgresql_version|regex_replace('^([0-9]+)\\..*$','\\1')}}-libs-{{postgresql_version}}"
      - "postgresql{{postgresql_version|regex_replace('^([0-9]+)\\..*$','\\1')}}-{{postgresql_version}}"
      - "postgresql{{postgresql_version|regex_replace('^([0-9]+)\\..*$','\\1')}}-server-{{postgresql_version}}"
      - "postgresql{{postgresql_version|regex_replace('^([0-9]+)\\..*$','\\1')}}-contrib-{{postgresql_version}}"
