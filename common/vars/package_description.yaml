k3s:
  latest_version: '1.18.3'
  latest_url: "https://github.com/rancher/k3s/releases/download/v1.18.3%2Bk3s1/k3s"
bionic:
  repo_pkg: "/root/percona-release_latest.bionic_all.deb"
  repo_url: "https://repo.percona.com/apt/percona-release_latest.bionic_all.deb"
  ps56:
    repo_file: "/etc/apt/sources.list.d/percona-original-release.list"
    repo_enable_str: "ps-56"
    systemd_service: "mysql"
    cnf_file: "/etc/mysql/conf.d/zz_mysqld.cnf"
    install_packages:
      - "https://www.percona.com/downloads/Percona-Server-5.6/Percona-Server-{{ percona_server_version | regex_replace('-[0-9]+$', '') }}/binary/debian/{{dist}}/x86_64/percona-server-common-5.6_{{percona_server_version}}.{{ dist }}_amd64.deb"
      - "https://www.percona.com/downloads/Percona-Server-5.6/Percona-Server-{{ percona_server_version | regex_replace('-[0-9]+$', '') }}/binary/debian/{{dist}}/x86_64/libperconaserverclient18.1_{{percona_server_version}}.{{ dist }}_amd64.deb"
      - "https://www.percona.com/downloads/Percona-Server-5.6/Percona-Server-{{ percona_server_version | regex_replace('-[0-9]+$', '') }}/binary/debian/{{dist}}/x86_64/percona-server-client-5.6_{{percona_server_version}}.{{ dist }}_amd64.deb"
      - "https://www.percona.com/downloads/Percona-Server-5.6/Percona-Server-{{ percona_server_version | regex_replace('-[0-9]+$', '') }}/binary/debian/{{dist}}/x86_64/percona-server-server-5.6_{{percona_server_version}}.{{ dist }}_amd64.deb"
  ps57:
    repo_file: "/etc/apt/sources.list.d/percona-original-release.list"
    repo_enable_str: "ps-57"
    systemd_service: "mysql"
    cnf_file: "/etc/mysql/percona-server.conf.d/mysqld.cnf"
    install_packages:
      - "https://www.percona.com/downloads/Percona-Server-5.7/Percona-Server-{{ percona_server_version | regex_replace('-[0-9]+$', '') }}/binary/debian/{{dist}}/x86_64/percona-server-common-5.7_{{percona_server_version}}.{{ dist }}_amd64.deb"
      - "https://www.percona.com/downloads/Percona-Server-5.7/Percona-Server-{{ percona_server_version | regex_replace('-[0-9]+$', '') }}/binary/debian/{{dist}}/x86_64/percona-server-client-5.7_{{percona_server_version}}.{{ dist }}_amd64.deb"
      - "https://www.percona.com/downloads/Percona-Server-5.7/Percona-Server-{{ percona_server_version | regex_replace('-[0-9]+$', '') }}/binary/debian/{{dist}}/x86_64/libperconaserverclient20_{{percona_server_version}}.{{ dist }}_amd64.deb"
      - "https://www.percona.com/downloads/Percona-Server-5.7/Percona-Server-{{ percona_server_version | regex_replace('-[0-9]+$', '') }}/binary/debian/{{dist}}/x86_64/percona-server-server-5.7_{{percona_server_version}}.{{ dist }}_amd64.deb"
  ps80:
    repo_file: "/etc/apt/sources.list.d/percona-ps-80-release.list"
    repo_enable_str: "ps-80"
    systemd_service: "mysql"
    cnf_file: "/etc/mysql/mysql.conf.d/mysqld.cnf"
    install_packages:
      - "https://www.percona.com/downloads/Percona-Server-LATEST/Percona-Server-{{ percona_server_version | regex_replace('-[0-9]+$', '') }}/binary/debian/{{dist}}/x86_64/percona-server-common_{{percona_server_version}}.{{dist}}_amd64.deb"
      - "https://www.percona.com/downloads/Percona-Server-LATEST/Percona-Server-{{ percona_server_version | regex_replace('-[0-9]+$', '') }}/binary/debian/{{dist}}/x86_64/percona-server-client_{{percona_server_version}}.{{dist}}_amd64.deb"
      - "https://www.percona.com/downloads/Percona-Server-LATEST/Percona-Server-{{ percona_server_version | regex_replace('-[0-9]+$', '') }}/binary/debian/{{dist}}/x86_64/libperconaserverclient21_{{percona_server_version}}.{{dist}}_amd64.deb"
      - "https://www.percona.com/downloads/Percona-Server-LATEST/Percona-Server-{{ percona_server_version | regex_replace('-[0-9]+$', '') }}/binary/debian/{{dist}}/x86_64/percona-server-server_{{percona_server_version}}.{{dist}}_amd64.deb"
  pxc56:
    repo_file: "/etc/apt/sources.list.d/percona-original-release.list"
    repo_enable_str: "pxc-56"
    systemd_service: "mysql"
    cnf_file: "/etc/mysql/percona-xtradb-cluster.conf.d/mysqld.cnf"
    install_packages:
      - "https://www.percona.com/downloads/Percona-XtraDB-Cluster-56/Percona-XtraDB-Cluster-{{ percona_xtradb_cluster_version | regex_replace('-[0-9]+$', '') }}/binary/debian/{{dist}}/x86_64/percona-xtradb-cluster-common-5.6_{{percona_xtradb_cluster_version}}.{{ dist }}_amd64.deb"
      - "https://www.percona.com/downloads/Percona-XtraDB-Cluster-56/Percona-XtraDB-Cluster-{{ percona_xtradb_cluster_version | regex_replace('-[0-9]+$', '') }}/binary/debian/{{dist}}/x86_64/percona-xtradb-cluster-client-5.6_{{percona_xtradb_cluster_version}}.{{ dist }}_amd64.deb"
      - "https://www.percona.com/downloads/Percona-XtraDB-Cluster-56/Percona-XtraDB-Cluster-{{ percona_xtradb_cluster_version | regex_replace('-[0-9]+$', '') }}/binary/debian/{{dist}}/x86_64/libperconaserverclient18.1_{{percona_xtradb_cluster_version}}.{{ dist }}_amd64.deb"
      - "https://www.percona.com/downloads/Percona-XtraDB-Cluster-56/Percona-XtraDB-Cluster-{{ percona_xtradb_cluster_version | regex_replace('-[0-9]+$', '') }}/binary/debian/{{dist}}/x86_64/percona-xtradb-cluster-galera-3.x_{{ percona_xtradb_cluster_version | regex_replace('^.*\\.([0-9]+)-([0-9]+)$', '3.\\1-\\2') }}.{{ dist }}_amd64.deb"
      - "https://www.percona.com/downloads/Percona-XtraDB-Cluster-56/Percona-XtraDB-Cluster-{{ percona_xtradb_cluster_version | regex_replace('-[0-9]+$', '') }}/binary/debian/{{dist}}/x86_64/percona-xtradb-cluster-galera-3_{{ percona_xtradb_cluster_version | regex_replace('^.*\\.([0-9]+)-([0-9]+)$', '3.\\1-\\2') }}.{{ dist }}_amd64.deb"
      - "https://www.percona.com/downloads/Percona-XtraDB-Cluster-56/Percona-XtraDB-Cluster-{{ percona_xtradb_cluster_version | regex_replace('-[0-9]+$', '') }}/binary/debian/{{dist}}/x86_64/percona-xtradb-cluster-server-5.6_{{percona_xtradb_cluster_version}}.{{ dist }}_amd64.deb"
  pxc57:
    repo_file: "/etc/apt/sources.list.d/percona-original-release.list"
    repo_enable_str: "pxc-57"
    systemd_service: "mysql"
    cnf_file: "/etc/mysql/percona-xtradb-cluster.conf.d/mysqld.cnf"
    install_packages:
      - "https://www.percona.com/downloads/Percona-XtraDB-Cluster-57/Percona-XtraDB-Cluster-{{ percona_xtradb_cluster_version | regex_replace('-[0-9]+$', '') }}/binary/debian/{{dist}}/x86_64/percona-xtradb-cluster-common-5.7_{{percona_xtradb_cluster_version}}.{{ dist }}_amd64.deb"
      - "https://www.percona.com/downloads/Percona-XtraDB-Cluster-57/Percona-XtraDB-Cluster-{{ percona_xtradb_cluster_version | regex_replace('-[0-9]+$', '') }}/binary/debian/{{dist}}/x86_64/percona-xtradb-cluster-client-5.7_{{percona_xtradb_cluster_version}}.{{ dist }}_amd64.deb"
      - "https://www.percona.com/downloads/Percona-XtraDB-Cluster-57/Percona-XtraDB-Cluster-{{ percona_xtradb_cluster_version | regex_replace('-[0-9]+$', '') }}/binary/debian/{{dist}}/x86_64/libperconaserverclient20_{{percona_xtradb_cluster_version}}.{{ dist }}_amd64.deb"
      - "https://www.percona.com/downloads/Percona-XtraDB-Cluster-57/Percona-XtraDB-Cluster-{{ percona_xtradb_cluster_version | regex_replace('-[0-9]+$', '') }}/binary/debian/{{dist}}/x86_64/percona-xtradb-cluster-server-5.7_{{percona_xtradb_cluster_version}}.{{ dist }}_amd64.deb"
  pxc80:
    repo_file: "/etc/apt/sources.list.d/percona-pxc-80-release.list"
    repo_enable_str: "pxc-80"
    systemd_service: "mysql"
    cnf_file: "/etc/mysql/mysql.conf.d/mysqld.cnf"
    install_packages:
      - "https://www.percona.com/downloads/Percona-XtraDB-Cluster-LATEST/Percona-XtraDB-Cluster-{{ percona_xtradb_cluster_version | regex_replace('-([0-9]+)$', '.\\1') }}/binary/debian/{{dist}}/x86_64/percona-xtradb-cluster-common_{{percona_xtradb_cluster_version}}.{{dist}}_amd64.deb"
      - "https://www.percona.com/downloads/Percona-XtraDB-Cluster-LATEST/Percona-XtraDB-Cluster-{{ percona_xtradb_cluster_version | regex_replace('-([0-9]+)$', '.\\1') }}/binary/debian/{{dist}}/x86_64/percona-xtradb-cluster-client_{{percona_xtradb_cluster_version}}.{{dist}}_amd64.deb"
      - "https://www.percona.com/downloads/Percona-XtraDB-Cluster-LATEST/Percona-XtraDB-Cluster-{{ percona_xtradb_cluster_version | regex_replace('-([0-9]+)$', '.\\1') }}/binary/debian/{{dist}}/x86_64/libperconaserverclient21_{{percona_xtradb_cluster_version}}.{{dist}}_amd64.deb"
      - "https://www.percona.com/downloads/Percona-XtraDB-Cluster-LATEST/Percona-XtraDB-Cluster-{{ percona_xtradb_cluster_version | regex_replace('-([0-9]+)$', '.\\1') }}/binary/debian/{{dist}}/x86_64/percona-xtradb-cluster-server_{{percona_xtradb_cluster_version}}.{{dist}}_amd64.deb"
  proxysql:
    install_packages:
      - "https://github.com/sysown/proxysql/releases/download/v{{proxysql_version}}/proxysql_{{proxysql_version}}-ubuntu18_amd64.deb"
  orchestrator:
    download_packages: {}
    install_packages:
      - "https://github.com/openark/orchestrator/releases/download/v{{ orchestrator_version | regex_replace('-[0-9]+$', '') }}/orchestrator-cli_{{orchestrator_version}}_amd64.deb"
      - "https://github.com/openark/orchestrator/releases/download/v{{ orchestrator_version | regex_replace('-[0-9]+$', '') }}/orchestrator_{{orchestrator_version}}_amd64.deb"

el7:
  repo_url: "https://repo.percona.com/yum/percona-release-latest.noarch.rpm"
  ps56:
    systemd_service: "mysqld"
    cnf_file: "/etc/my.cnf"
    install_packages:
      - "{{ percona_mysql_name }}-shared{{ percona_mysql_full_ver }}"
      - "{{ percona_mysql_name }}-client{{ percona_mysql_full_ver }}"
      - "{{ percona_mysql_name }}-server{{ percona_mysql_full_ver }}"
    install_debug_packages:
      - gdb
      - "{{ percona_mysql_name }}-debuginfo{{ percona_mysql_full_ver }}"
  ps57:
    systemd_service: "mysqld"
    cnf_file: "/etc/percona-server.conf.d/mysqld.cnf"
    install_packages:
      - Percona-Server-shared-compat-57-{{ percona_server_version }}.el7.x86_64
      - Percona-Server-shared-57-{{        percona_server_version }}.el7.x86_64
      - Percona-Server-client-57-{{        percona_server_version }}.el7.x86_64
      - Percona-Server-server-57-{{        percona_server_version }}.el7.x86_64
    install_debug_packages:
      - gdb
      - Percona-Server-57-debuginfo-{{ percona_server_version }}.el7.x86_64
    rocksdb_packages:
      - Percona-Server-rocksdb-57-{{ percona_server_version }}.el7.x86_64
  ps80:
    repo_file: "/etc/yum.repos.d/percona-ps-80-release.repo"
    repo_enable_str: "ps-80"
    systemd_service: "mysqld"
    cnf_file: "/etc/my.cnf"
    install_packages:
      - "{{ percona_mysql_name }}-shared-compat{{ percona_mysql_full_ver }}"            
      - "{{ percona_mysql_name }}-shared{{ percona_mysql_full_ver }}"
      - "{{ percona_mysql_name }}-client{{ percona_mysql_full_ver }}"
      - "{{ percona_mysql_name }}-server{{ percona_mysql_full_ver }}"
    install_debug_packages:
      - gdb
      - "{{ percona_mysql_name }}-debuginfo{{ percona_mysql_full_ver }}"
  pxc56:
    systemd_service: "mysql"
    cnf_file: "/etc/my.cnf"
    install_packages:
      - "{{ percona_mysql_name }}-shared{{ percona_mysql_full_ver }}"
      - "{{ percona_mysql_name }}-client{{ percona_mysql_full_ver }}"
      - "percona-xtrabackup{{ '-'+percona_xtrabackup_version+'.el7.x86_64' if percona_xtrabackup_version.startswith('2.3') else ''}}"
      - "Percona-XtraDB-Cluster-galera-{{ percona_xtradb_cluster_version | regex_replace('^.*\\.([0-9]+)\\.([0-9]+)$', '3-3.\\1-\\2') }}.el7.x86_64"
      - "{{ percona_mysql_name }}-server{{ percona_mysql_full_ver }}"
  pxc57:
    systemd_service: "mysqld"
    cnf_file: "/etc/percona-xtradb-cluster.conf.d/zz_mysqld.cnf"
    install_packages:
      - "{{ percona_mysql_name }}-shared-compat{{ percona_mysql_full_ver }}"            
      - "{{ percona_mysql_name }}-shared{{ percona_mysql_full_ver }}"
      - "{{ percona_mysql_name }}-client{{ percona_mysql_full_ver }}"
      - "percona-xtrabackup-24{{ '-'+percona_xtrabackup_version if percona_xtrabackup_version !='' else '' }}"
      - "{{ percona_mysql_name }}-server{{ percona_mysql_full_ver }}"
  pxc80:
    repo_file: "/etc/yum.repos.d/percona-pxc-80-release.repo"
    repo_enable_str: "pxc-80"
    systemd_service: "mysqld"
    cnf_file: "/etc/my.cnf"
    install_packages:
      - openssl
      - "{{ percona_mysql_name }}-shared-compat{{ percona_mysql_full_ver }}"            
      - "{{ percona_mysql_name }}-shared{{ percona_mysql_full_ver }}"
      - "{{ percona_mysql_name }}-client{{ percona_mysql_full_ver }}"
      - "{{ percona_mysql_name }}-server{{ percona_mysql_full_ver }}"
    install_debug_packages:
      - gdb
      - "{{ percona_mysql_name }}-debuginfo{{ percona_mysql_full_ver }}"
  ppg11:
    systemd_service: 'postgresql-11'
    cnf_file: '/var/lib/pgsql/11/data/postgresql.conf'
  ppg12:
    systemd_service: 'postgresql-12'
    cnf_file: '/var/lib/pgsql/12/data/postgresql.conf'

  mariadb_server:
    systemd_service: "mariadb"
    cnf_file: '/etc/my.cnf.d/zz_mysqld.cnf'
    install_packages:
      - "MariaDB-common-{{mariadb_version}}.el7.centos.x86_64"
      - "MariaDB-client-{{mariadb_version}}.el7.centos.x86_64"
      - "MariaDB-server-{{mariadb_version}}.el7.centos.x86_64"
  mysql:
    repo_url: https://dev.mysql.com/get/mysql80-community-release-el7-3.noarch.rpm
    systemd_service: "mysqld"
    cnf_file: '/etc/my.cnf'
    install_packages:
      - "mysql-community-common-{{mysql_version}}.el7.x86_64"
      - "mysql-community-client-{{mysql_version}}.el7.x86_64"
      - "mysql-community-server-{{mysql_version}}.el7.x86_64"
  proxysql:
    install_packages:
      - "https://github.com/sysown/proxysql/releases/download/v{{ proxysql_version | regex_replace('-[0-9]+$', '') }}/proxysql-{{proxysql_version}}-centos7.x86_64.rpm"
  percona_proxysql:
    systemd_service: "proxysql"
    install_packages:
      - which
      - "proxysql{{'2' if percona_proxysql_version.startswith('2.') else ''}}-{{percona_proxysql_version}}.el7.x86_64"
  orchestrator:
    install_packages:
      - "https://github.com/openark/orchestrator/releases/download/v{{ orchestrator_version | regex_replace('-[0-9]+$', '') }}/orchestrator-cli-{{orchestrator_version}}.x86_64.rpm"
      - "https://github.com/openark/orchestrator/releases/download/v{{ orchestrator_version | regex_replace('-[0-9]+$', '') }}/orchestrator-{{orchestrator_version}}.x86_64.rpm"
  pmm_client:
    install_packages:
      - "pmm{{'2' if pmm_client_version.startswith('2') else ''}}-client-{{pmm_client_version}}.el7.x86_64"
  sysbench:
    install_packages:
      - "Percona-Server-client-56"
      - "sysbench-{{sysbench_version}}.el7.x86_64"

el8:
  proxysql:
    install_packages:
      - "https://github.com/sysown/proxysql/releases/download/v{{ proxysql_version | regex_replace('-[0-9]+$', '') }}/proxysql-{{proxysql_version}}-centos8.x86_64.rpm"
  percona_proxysql:
    systemd_service: "proxysql"
    install_packages:
      - which
      - "proxysql{{'2' if percona_proxysql_version.startswith('2.') else ''}}-{{percona_proxysql_version}}.el8.x86_64"

  mariadb_server:
    systemd_service: "mariadb"
    cnf_file: '/etc/my.cnf.d/zz_mysqld.cnf'
    install_packages:
      - "MariaDB-common-{{mariadb_version}}.el8.x86_64"
      - "MariaDB-client-{{mariadb_version}}.el8.x86_64"
      - "MariaDB-server-{{mariadb_version}}.el8.x86_64"
  mysql:
    repo_url: https://dev.mysql.com/get/mysql80-community-release-el8-1.noarch.rpm
    systemd_service: "mysqld"
    cnf_file: '/etc/my.cnf'
    install_packages:
      - https://dev.mysql.com/get/Downloads/MySQL-8.0/mysql-community-common-{{mysql_version}}.el8.x86_64.rpm
      - https://dev.mysql.com/get/Downloads/MySQL-8.0/mysql-community-libs-{{mysql_version}}.el8.x86_64.rpm
      - https://dev.mysql.com/get/Downloads/MySQL-8.0/mysql-community-client-{{mysql_version}}.el8.x86_64.rpm
      - https://dev.mysql.com/get/Downloads/MySQL-8.0/mysql-community-server-{{mysql_version}}.el8.x86_64.rpm

  orchestrator:
    install_packages:
      - "https://github.com/openark/orchestrator/releases/download/v{{ orchestrator_version | regex_replace('-[0-9]+$', '') }}/orchestrator-cli-{{orchestrator_version}}.x86_64.rpm"
      - "https://github.com/openark/orchestrator/releases/download/v{{ orchestrator_version | regex_replace('-[0-9]+$', '') }}/orchestrator-{{orchestrator_version}}.x86_64.rpm"
