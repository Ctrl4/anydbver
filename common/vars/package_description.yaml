k3s:
  latest_version: '1.18.3'
  latest_url: "https://github.com/rancher/k3s/releases/download/v1.18.3%2Bk3s1/k3s"
bionic:
  repo_pkg: "/root/percona-release_latest.bionic_all.deb"
  repo_url: "https://repo.percona.com/apt/percona-release_latest.bionic_all.deb"
  ps56:
    version: "{{percona_server_version}}"
    download_url: "https://www.percona.com/downloads/Percona-Server-5.6/Percona-Server-{{ percona_server_version | regex_replace('-[0-9]+$', '') }}/binary/debian/bionic/x86_64"
    repo_file: "/etc/apt/sources.list.d/percona-original-release.list"
    repo_enable_str: "ps-56"
    systemd_service: "mysql"
    cnf_file: "/etc/mysql/conf.d/zz_mysqld.cnf"
    download_packages:
      - percona-server-common-5.6
      - libperconaserverclient18.1
      - percona-server-client-5.6
      - percona-server-tokudb-5.6
      - percona-server-server-5.6
    install_packages:
      - "percona-server-common-5.6={{ percona_server_version }}.bionic"
      - "libperconaserverclient18.1={{ percona_server_version }}.bionic"
      - "percona-server-client-5.6={{ percona_server_version }}.bionic"
      - "percona-server-server-5.6={{ percona_server_version }}.bionic"
  ps57:
    version: "{{percona_server_version}}"
    download_url: "https://www.percona.com/downloads/Percona-Server-5.7/Percona-Server-{{ percona_server_version | regex_replace('-[0-9]+$', '') }}/binary/debian/bionic/x86_64"
    repo_file: "/etc/apt/sources.list.d/percona-original-release.list"
    repo_enable_str: "ps-57"
    systemd_service: "mysql"
    cnf_file: "/etc/mysql/percona-server.conf.d/mysqld.cnf"
    download_packages:
      - percona-server-common-5.7
      - percona-server-client-5.7
      - libperconaserverclient20
      - percona-server-rocksdb-5.7
      - percona-server-tokudb-5.7
      - percona-server-server-5.7
    install_packages:
      - "percona-server-common-5.7={{ percona_server_version }}.bionic"
      - "percona-server-client-5.7={{ percona_server_version }}.bionic"
      - "libperconaserverclient20={{ percona_server_version }}.bionic"
      - "percona-server-server-5.7={{ percona_server_version }}.bionic"
  ps80:
    version: "{{percona_server_version}}"
    download_url: "http://repo.percona.com/ps-80/apt/pool/main/p/percona-server"
    repo_file: "/etc/apt/sources.list.d/percona-ps-80-release.list"
    repo_enable_str: "ps-80"
    systemd_service: "mysql"
    cnf_file: "/etc/mysql/mysql.conf.d/mysqld.cnf"
    download_packages:
      - percona-server-common
      - percona-server-client
      - libperconaserverclient21
      - percona-server-rocksdb
      - percona-server-tokudb
      - percona-server-server
      - percona-mysql-router
    install_packages:
      - "percona-server-common={{ percona_server_version }}.bionic"
      - "percona-server-client={{ percona_server_version }}.bionic"
      - "libperconaserverclient21={{ percona_server_version }}.bionic"
      - "percona-server-server={{ percona_server_version }}.bionic"
      - "percona-mysql-router={{ percona_server_version }}.bionic"
  pxc80:
    version: "{{percona_xtradb_cluster_version}}"
    download_url: "https://www.percona.com/downloads/Percona-XtraDB-Cluster-LATEST/Percona-XtraDB-Cluster-{{ percona_xtradb_cluster_version | regex_replace('-([0-9]+)$', '.\\1') }}/binary/debian/bionic/x86_64"
    repo_file: "/etc/apt/sources.list.d/percona-pxc-80-release.list"
    repo_enable_str: "pxc-80"
    systemd_service: "mysql"
    cnf_file: "/etc/mysql/mysql.conf.d/mysqld.cnf"
    download_packages:
      - percona-xtradb-cluster-common
      - percona-xtradb-cluster-client
      - libperconaserverclient21
      - percona-xtradb-cluster-server
      - percona-xtradb-cluster-garbd
    install_packages:
      - "percona-xtradb-cluster-common=1:{{ percona_xtradb_cluster_version }}.bionic"
      - "percona-xtradb-cluster-client=1:{{ percona_xtradb_cluster_version }}.bionic"
      - "libperconaserverclient21=1:{{ percona_xtradb_cluster_version }}.bionic"
      - "percona-xtradb-cluster-server=1:{{ percona_xtradb_cluster_version }}.bionic"
  proxysql:
    url: "https://github.com/sysown/proxysql/releases/download/v{{proxysql_version}}/proxysql_{{proxysql_version}}-ubuntu18_amd64.deb"

el7:
  repo_url: "https://repo.percona.com/yum/percona-release-latest.noarch.rpm"
  ps56:
    systemd_service: "mysqld"
    cnf_file: "/etc/my.cnf"
    install_packages:
      - "{{ percona_mysql_name }}-shared{{ percona_mysql_full_ver }}"
      - "{{ percona_mysql_name }}-client{{ percona_mysql_full_ver }}"
      - "{{ percona_mysql_name }}-server{{ percona_mysql_full_ver }}"
  ps57:
    systemd_service: "mysqld"
    cnf_file: "/etc/percona-server.conf.d/mysqld.cnf"
    install_packages:
      - "{{ percona_mysql_name }}-shared-compat{{ percona_mysql_full_ver }}"            
      - "{{ percona_mysql_name }}-shared{{ percona_mysql_full_ver }}"
      - "{{ percona_mysql_name }}-client{{ percona_mysql_full_ver }}"
      - "{{ percona_mysql_name }}-server{{ percona_mysql_full_ver }}"
  ps80:
    repo_file: "/etc/yum.repos.d/percona-ps-80-release.repo"
    repo_enable_str: "ps-80"
    systemd_service: "mysqld"
    cnf_file: "/etc/my.cnf"
    install_packages:
      - "{{ percona_mysql_name }}-shared-compat{{ percona_mysql_full_ver }}"            
      - "{{ percona_mysql_name }}-shared{{ percona_mysql_full_ver }}"
      - "{{ percona_mysql_name }}-client{{ percona_mysql_full_ver }}"
      - "{{ percona_mysql_name }}-server{{ percona_mysql_full_ver }}"
    install_debug_packages:
      - gdb
      - "{{ percona_mysql_name }}-debuginfo{{ percona_mysql_full_ver }}"
  pxc56:
    systemd_service: "mysql"
    cnf_file: "/etc/my.cnf"
    install_packages:
      - "{{ percona_mysql_name }}-shared{{ percona_mysql_full_ver }}"
      - "{{ percona_mysql_name }}-client{{ percona_mysql_full_ver }}"
      - "percona-xtrabackup{{ '-'+percona_xtrabackup_version+'.el7.x86_64' if percona_xtrabackup_version.startswith('2.3') else ''}}"
      - "Percona-XtraDB-Cluster-galera-{{ percona_xtradb_cluster_56_galera }}.el7.x86_64"
      - "{{ percona_mysql_name }}-server{{ percona_mysql_full_ver }}"
  pxc57:
    systemd_service: "mysqld"
    cnf_file: "/etc/percona-xtradb-cluster.conf.d/zz_mysqld.cnf"
    install_packages:
      - "{{ percona_mysql_name }}-shared-compat{{ percona_mysql_full_ver }}"            
      - "{{ percona_mysql_name }}-shared{{ percona_mysql_full_ver }}"
      - "{{ percona_mysql_name }}-client{{ percona_mysql_full_ver }}"
      - "percona-xtrabackup-24{{ '-'+percona_xtrabackup_version if percona_xtrabackup_version !='' else '' }}"
      - "{{ percona_mysql_name }}-server{{ percona_mysql_full_ver }}"
  pxc80:
    repo_file: "/etc/yum.repos.d/percona-pxc-80-release.repo"
    repo_enable_str: "pxc-80"
    systemd_service: "mysqld"
    cnf_file: "/etc/my.cnf"
    install_packages:
      - openssl
      - "{{ percona_mysql_name }}-shared-compat{{ percona_mysql_full_ver }}"            
      - "{{ percona_mysql_name }}-shared{{ percona_mysql_full_ver }}"
      - "{{ percona_mysql_name }}-client{{ percona_mysql_full_ver }}"
      - "{{ percona_mysql_name }}-server{{ percona_mysql_full_ver }}"
    install_debug_packages:
      - gdb
      - "{{ percona_mysql_name }}-debuginfo{{ percona_mysql_full_ver }}"
  ppg11:
    systemd_service: 'postgresql-11'
    cnf_file: '/var/lib/pgsql/11/data/postgresql.conf'
  ppg12:
    systemd_service: 'postgresql-12'
    cnf_file: '/var/lib/pgsql/12/data/postgresql.conf'

  mariadb_server:
    systemd_service: "mariadb"
    cnf_file: '/etc/my.cnf.d/zz_mysqld.cnf'
    install_packages:
      - "MariaDB-common-{{mariadb_version}}.el7.centos.x86_64"
      - "MariaDB-client-{{mariadb_version}}.el7.centos.x86_64"
      - "MariaDB-server-{{mariadb_version}}.el7.centos.x86_64"

  proxysql:
    install_packages:
      - "https://github.com/sysown/proxysql/releases/download/v{{ proxysql_version | regex_replace('-[0-9]+$', '') }}/proxysql-{{proxysql_version}}-centos7.x86_64.rpm"
  percona_proxysql:
    systemd_service: "proxysql"
    install_packages:
      - which
      - "proxysql{{'2' if percona_proxysql_version.startswith('2.') else ''}}-{{percona_proxysql_version}}.el7.x86_64"

el8:
  proxysql:
    install_packages:
      - "https://github.com/sysown/proxysql/releases/download/v{{ proxysql_version | regex_replace('-[0-9]+$', '') }}/proxysql-{{proxysql_version}}-centos8.x86_64.rpm"
  percona_proxysql:
    systemd_service: "proxysql"
    install_packages:
      - which
      - "proxysql{{'2' if percona_proxysql_version.startswith('2.') else ''}}-{{percona_proxysql_version}}.el8.x86_64"

  mariadb_server:
    systemd_service: "mariadb"
    cnf_file: '/etc/my.cnf.d/zz_mysqld.cnf'
    install_packages:
      - "MariaDB-common-{{mariadb_version}}.el8.x86_64"
      - "MariaDB-client-{{mariadb_version}}.el8.x86_64"
      - "MariaDB-server-{{mariadb_version}}.el8.x86_64"
